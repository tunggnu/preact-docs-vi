{"meta":{"title":"Th√†nh ph·∫ßn","prev":"/tutorial/02-events","next":"/tutorial/04-state","solvable":true,"tutorial":{"setup":"useRealm(function (realm) {\n  var options = require('preact').options;\n  var win = realm.globalThis;\n  var prevConsoleLog = win.console.log;\n  var hasComponent = false;\n  var check = false;\n\n  win.console.log = function() {\n    if (hasComponent && check) {\n      solutionCtx.setSolved(true);\n    }\n    return prevConsoleLog.apply(win.console, arguments);\n  };\n\n  var e = options.event;\n  options.event = function(e) {\n    if (e.type === 'click') {\n      check = true;\n      setTimeout(() => check = false);\n    }\n  };\n\n  var r = options.__r;\n  options.__r = function(vnode) {\n    if (typeof vnode.type === 'function' && /MyButton/.test(vnode.type)) {\n      hasComponent = true;\n    }\n  }\n\n  return function () {\n    options.event = e;\n    options.__r = r;\n    win.console.log = prevConsoleLog;\n  };\n}, []);","initial":"import { render } from \"preact\";\n\nfunction MyButton(props) {\n  // b·∫Øt ƒë·∫ßu t·ª´ ƒë√¢y!\n}\n\nfunction App() {\n  const clicked = () => {\n    console.log('Xin ch√†o!')\n  }\n\n  return (\n    <div>\n      <p class=\"count\">S·ªë ƒë·∫øm:</p>\n      <button style={{ color: 'purple' }} onClick={clicked}>Nh·∫•n t√¥i</button>\n    </div>\n  )\n}\n\nrender(<App />, document.getElementById(\"app\"));","final":"import { render } from \"preact\";\n\nfunction MyButton(props) {\n  return <button style={props.style} onClick={props.onClick}>{props.children}</button>\n}\n\nfunction App() {\n  const clicked = () => {\n    console.log('Xin ch√†o!')\n  }\n\n  return (\n    <div>\n      <p class=\"count\">S·ªë ƒë·∫øm:</p>\n      <MyButton style={{ color: 'purple' }} onClick={clicked}>Nh·∫•n t√¥i</MyButton>\n    </div>\n  )\n}\n\nrender(<App />, document.getElementById(\"app\"));"}},"html":"<h1>Th√†nh ph·∫ßn</h1><p>Nh∆∞ ch√∫ng ta ƒë√£ ƒë·ªÅ c·∫≠p ·ªü ph·∫ßn m·ªôt c·ªßa h∆∞·ªõng d·∫´n n√†y, kh·ªëi x√¢y d·ª±ng ch√≠nh trong c√°c ·ª©ng d·ª•ng Virtual DOM l√† Th√†nh ph·∫ßn (Component). M·ªôt Th√†nh ph·∫ßn l√† m·ªôt ph·∫ßn t·ª± ch·ª©a c·ªßa ·ª©ng d·ª•ng c√≥ th·ªÉ ƒë∆∞·ª£c render nh∆∞ m·ªôt ph·∫ßn c·ªßa c√¢y Virtual DOM gi·ªëng nh∆∞ m·ªôt ph·∫ßn t·ª≠ HTML. B·∫°n c√≥ th·ªÉ nghƒ© v·ªÅ Th√†nh ph·∫ßn nh∆∞ m·ªôt l·ªùi g·ªçi h√†m: c·∫£ hai ƒë·ªÅu l√† c∆° ch·∫ø cho ph√©p t√°i s·ª≠ d·ª•ng m√£ v√† tr·ª´u t∆∞·ª£ng h√≥a.</p>\n<p>ƒê·ªÉ minh h·ªça, h√£y t·∫°o m·ªôt th√†nh ph·∫ßn ƒë∆°n gi·∫£n t√™n l√† <code>MyButton</code> tr·∫£ v·ªÅ m·ªôt c√¢y Virtual DOM m√¥ t·∫£ m·ªôt ph·∫ßn t·ª≠ HTML <code>&lt;button&gt;</code>:</p>\n\n\t\t\t\t<div class=\"highlight-container\">\n\t\t\t\t\t<pre class=\"highlight\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">MyButton</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>my-button<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>props<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">}</span></code></pre>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t<p>Ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng th√†nh ph·∫ßn n√†y trong ·ª©ng d·ª•ng b·∫±ng c√°ch tham chi·∫øu n√≥ trong JSX:</p>\n\n\t\t\t\t<div class=\"highlight-container\">\n\t\t\t\t\t<pre class=\"highlight\"><code class=\"language-js\"><span class=\"token keyword\">let</span> vdom <span class=\"token operator\">=</span> <span class=\"token operator\">&lt;</span>MyButton text<span class=\"token operator\">=</span><span class=\"token string\">\"Nh·∫•n t√¥i!\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n\n<span class=\"token comment\">// c√≤n nh·ªõ createElement ch·ª©? d√≤ng tr√™n s·∫Ω ƒë∆∞·ª£c bi√™n d·ªãch th√†nh:</span>\n<span class=\"token keyword\">let</span> vdom <span class=\"token operator\">=</span> <span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span>MyButton<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">text</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Nh·∫•n t√¥i!\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t<p>B·∫•t c·ª© n∆°i n√†o b·∫°n d√πng JSX ƒë·ªÉ m√¥ t·∫£ c√¢y HTML, b·∫°n c≈©ng c√≥ th·ªÉ m√¥ t·∫£ c√¢y Th√†nh ph·∫ßn. S·ª± kh√°c bi·ªát l√† m·ªôt th√†nh ph·∫ßn ƒë∆∞·ª£c m√¥ t·∫£ trong JSX b·∫±ng m·ªôt t√™n b·∫Øt ƒë·∫ßu b·∫±ng ch·ªØ hoa t∆∞∆°ng ·ª©ng v·ªõi t√™n th√†nh ph·∫ßn (m·ªôt bi·∫øn JavaScript).</p>\n<p>Khi Preact render c√¢y Virtual DOM ƒë∆∞·ª£c m√¥ t·∫£ b·ªüi JSX c·ªßa b·∫°n, m·ªói h√†m th√†nh ph·∫ßn m√† n√≥ g·∫∑p s·∫Ω ƒë∆∞·ª£c g·ªçi t·∫°i v·ªã tr√≠ ƒë√≥ trong c√¢y. V√≠ d·ª•, ch√∫ng ta c√≥ th·ªÉ render th√†nh ph·∫ßn <code>MyButton</code> v√†o body c·ªßa trang web b·∫±ng c√°ch truy·ªÅn m·ªôt ph·∫ßn t·ª≠ JSX m√¥ t·∫£ th√†nh ph·∫ßn ƒë√≥ cho <code>render()</code>:</p>\n\n\t\t\t\t<div class=\"highlight-container\">\n\t\t\t\t\t<pre class=\"highlight\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> render <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'preact'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MyButton</span></span> <span class=\"token attr-name\">text</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Nh·∫•n t√¥i!<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">,</span> document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">)</span></code></pre>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\n\t\t\t\t<h2 id=\"l·ªìng-th√†nh-ph·∫ßn\">\n\t\t\t\t\t<a class=\"fragment-link\" href=\"#l·ªìng-th√†nh-ph·∫ßn\">\n\t\t\t\t\t\t<svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" aria-label=\"Link to: L·ªìng th√†nh ph·∫ßn (#l·ªìng-th√†nh-ph·∫ßn)\">\n\t\t\t\t\t\t\t<use href=\"/icons.svg#link\" ></use>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</a>\n\t\t\t\t\t<span>L·ªìng th√†nh ph·∫ßn</span>\n\t\t\t\t</h2><p>C√°c th√†nh ph·∫ßn c√≥ th·ªÉ tham chi·∫øu c√°c th√†nh ph·∫ßn kh√°c trong c√¢y Virtual DOM m√† ch√∫ng tr·∫£ v·ªÅ. ƒêi·ªÅu n√†y t·∫°o ra m·ªôt c√¢y c√°c th√†nh ph·∫ßn:</p>\n\n\t\t\t\t<div class=\"highlight-container\">\n\t\t\t\t\t<pre class=\"highlight\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">MediaPlayer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MyButton</span></span> <span class=\"token attr-name\">text</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Ph√°t<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MyButton</span></span> <span class=\"token attr-name\">text</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>D·ª´ng<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MediaPlayer</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">,</span> document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">)</span></code></pre>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t<p>Ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng k·ªπ thu·∫≠t n√†y ƒë·ªÉ render c√°c c√¢y th√†nh ph·∫ßn kh√°c nhau cho c√°c tr∆∞·ªùng h·ª£p kh√°c nhau. H√£y l√†m cho <code>MediaPlayer</code> hi·ªÉn th·ªã n√∫t &quot;Ph√°t&quot; khi ch∆∞a ph√°t √¢m thanh, v√† n√∫t &quot;D·ª´ng&quot; khi ƒëang ph√°t:</p>\n\n\t\t\t\t<div class=\"highlight-container\">\n\t\t\t\t\t<pre class=\"highlight\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">MediaPlayer</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>props<span class=\"token punctuation\">.</span>playing <span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MyButton</span></span> <span class=\"token attr-name\">text</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>D·ª´ng<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n      <span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MyButton</span></span> <span class=\"token attr-name\">text</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Ph√°t<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MediaPlayer</span></span> <span class=\"token attr-name\">playing</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">,</span> document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// render ra &lt;button>Ph√°t&lt;/button></span>\n\n<span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MediaPlayer</span></span> <span class=\"token attr-name\">playing</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">,</span> document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// render ra &lt;button>D·ª´ng&lt;/button></span></code></pre>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t<blockquote>\n<p><strong>Nh·ªõ r·∫±ng:</strong> d·∫•u ngo·∫∑c nh·ªçn <code>{curly}</code> trong JSX cho ph√©p ch√∫ng ta nh·∫£y v√†o JavaScript thu·∫ßn. ·ªû ƒë√¢y ch√∫ng ta d√πng bi·ªÉu th·ª©c <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Conditional_Operator\" target=\"_blank\" rel=\"noopener noreferrer\">ternary</a> ƒë·ªÉ hi·ªÉn th·ªã c√°c n√∫t kh√°c nhau d·ª±a tr√™n gi√° tr·ªã c·ªßa prop <code>playing</code>.</p>\n</blockquote>\n\n\t\t\t\t<h2 id=\"con-c·ªßa-th√†nh-ph·∫ßn\">\n\t\t\t\t\t<a class=\"fragment-link\" href=\"#con-c·ªßa-th√†nh-ph·∫ßn\">\n\t\t\t\t\t\t<svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" aria-label=\"Link to: Con c·ªßa th√†nh ph·∫ßn (#con-c·ªßa-th√†nh-ph·∫ßn)\">\n\t\t\t\t\t\t\t<use href=\"/icons.svg#link\" ></use>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</a>\n\t\t\t\t\t<span>Con c·ªßa th√†nh ph·∫ßn</span>\n\t\t\t\t</h2><p>C√°c th√†nh ph·∫ßn c≈©ng c√≥ th·ªÉ ƒë∆∞·ª£c l·ªìng v√†o nhau gi·ªëng nh∆∞ c√°c ph·∫ßn t·ª≠ HTML. M·ªôt trong nh·ªØng l√Ω do Th√†nh ph·∫ßn l√† m·ªôt nguy√™n th·ªßy m·∫°nh m·∫Ω l√† v√¨ ch√∫ng cho ph√©p ch√∫ng ta √°p d·ª•ng logic t√πy ch·ªânh ƒë·ªÉ ki·ªÉm so√°t c√°ch c√°c ph·∫ßn t·ª≠ Virtual DOM l·ªìng b√™n trong m·ªôt th√†nh ph·∫ßn ƒë∆∞·ª£c render.</p>\n<p>C√°ch ho·∫°t ƒë·ªông r·∫•t ƒë∆°n gi·∫£n: b·∫•t k·ª≥ ph·∫ßn t·ª≠ Virtual DOM n√†o l·ªìng b√™n trong m·ªôt th√†nh ph·∫ßn trong JSX s·∫Ω ƒë∆∞·ª£c truy·ªÅn v√†o th√†nh ph·∫ßn ƒë√≥ d∆∞·ªõi d·∫°ng prop ƒë·∫∑c bi·ªát <code>children</code>. M·ªôt th√†nh ph·∫ßn c√≥ th·ªÉ ch·ªçn v·ªã tr√≠ ƒë·∫∑t c√°c con c·ªßa n√≥ b·∫±ng c√°ch tham chi·∫øu ch√∫ng trong JSX v·ªõi bi·ªÉu th·ª©c <code>{children}</code>. Ho·∫∑c, th√†nh ph·∫ßn c√≥ th·ªÉ ch·ªâ c·∫ßn tr·∫£ v·ªÅ gi√° tr·ªã <code>children</code>, v√† Preact s·∫Ω render c√°c ph·∫ßn t·ª≠ Virtual DOM ƒë√≥ ngay t·∫°i v·ªã tr√≠ th√†nh ph·∫ßn ƒë√≥ trong c√¢y Virtual DOM.</p>\n\n\t\t\t\t<div class=\"highlight-container\">\n\t\t\t\t\t<pre class=\"highlight\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Foo</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>b</span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Foo</span></span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">Foo</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> props<span class=\"token punctuation\">.</span>children  <span class=\"token comment\">// [&lt;a />, &lt;b />]</span>\n<span class=\"token punctuation\">}</span></code></pre>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t<p>Quay l·∫°i v√≠ d·ª• tr∆∞·ªõc, th√†nh ph·∫ßn <code>MyButton</code> c·ªßa ch√∫ng ta mong ƒë·ª£i m·ªôt prop <code>text</code> ƒë∆∞·ª£c ch√®n v√†o ph·∫ßn t·ª≠ <code>&lt;button&gt;</code> l√†m n·ªôi dung hi·ªÉn th·ªã. N·∫øu ch√∫ng ta mu·ªën hi·ªÉn th·ªã m·ªôt h√¨nh ·∫£nh thay v√¨ vƒÉn b·∫£n th√¨ sao?</p>\n<p>H√£y vi·∫øt l·∫°i <code>MyButton</code> ƒë·ªÉ cho ph√©p l·ªìng n·ªôi dung b·∫±ng prop <code>children</code>:</p>\n\n\t\t\t\t<div class=\"highlight-container\">\n\t\t\t\t\t<pre class=\"highlight\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">MyButton</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>my-button<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>props<span class=\"token punctuation\">.</span>children<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MyButton</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>icon.png<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      Nh·∫•n t√¥i!\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">MyButton</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">App</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">,</span> document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">)</span></code></pre>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t<p>B√¢y gi·ªù, sau khi xem m·ªôt v√†i v√≠ d·ª• v·ªÅ c√°c th√†nh ph·∫ßn render c√°c th√†nh ph·∫ßn kh√°c, hy v·ªçng b·∫°n ƒë√£ th·∫•y r√µ c√°ch c√°c th√†nh ph·∫ßn l·ªìng nhau gi√∫p ch√∫ng ta x√¢y d·ª±ng c√°c ·ª©ng d·ª•ng ph·ª©c t·∫°p t·ª´ nhi·ªÅu m·∫£nh nh·ªè h∆°n.</p>\n<hr>\n\n\t\t\t\t<h2 id=\"c√°c-lo·∫°i-th√†nh-ph·∫ßn\">\n\t\t\t\t\t<a class=\"fragment-link\" href=\"#c√°c-lo·∫°i-th√†nh-ph·∫ßn\">\n\t\t\t\t\t\t<svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" aria-label=\"Link to: C√°c lo·∫°i th√†nh ph·∫ßn (#c√°c-lo·∫°i-th√†nh-ph·∫ßn)\">\n\t\t\t\t\t\t\t<use href=\"/icons.svg#link\" ></use>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</a>\n\t\t\t\t\t<span>C√°c lo·∫°i th√†nh ph·∫ßn</span>\n\t\t\t\t</h2>\n\n<p>Cho ƒë·∫øn gi·ªù, ch√∫ng ta ƒë√£ th·∫•y c√°c Th√†nh ph·∫ßn l√† h√†m. Th√†nh ph·∫ßn h√†m nh·∫≠n v√†o <code>props</code> l√†m ƒë·∫ßu v√†o v√† tr·∫£ v·ªÅ m·ªôt c√¢y Virtual DOM l√†m ƒë·∫ßu ra. Th√†nh ph·∫ßn c≈©ng c√≥ th·ªÉ ƒë∆∞·ª£c vi·∫øt d∆∞·ªõi d·∫°ng class JavaScript, ƒë∆∞·ª£c Preact kh·ªüi t·∫°o v√† cung c·∫•p ph∆∞∆°ng th·ª©c <code>render()</code> ho·∫°t ƒë·ªông gi·ªëng nh∆∞ m·ªôt th√†nh ph·∫ßn h√†m.</p>\n<p>Class component ƒë∆∞·ª£c t·∫°o b·∫±ng c√°ch k·∫ø th·ª´a l·ªõp c∆° s·ªü <code>Component</code> c·ªßa Preact. Trong v√≠ d·ª• d∆∞·ªõi ƒë√¢y, h√£y ch√∫ √Ω c√°ch <code>render()</code> nh·∫≠n <code>props</code> l√†m ƒë·∫ßu v√†o v√† tr·∫£ v·ªÅ m·ªôt c√¢y Virtual DOM l√†m ƒë·∫ßu ra - gi·ªëng nh∆∞ m·ªôt th√†nh ph·∫ßn h√†m!</p>\n\n\t\t\t\t<div class=\"highlight-container\">\n\t\t\t\t\t<pre class=\"highlight\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'preact'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">MyButton</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>my-button<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>props<span class=\"token punctuation\">.</span>children<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MyButton</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Nh·∫•n t√¥i!</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">MyButton</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">,</span> document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">)</span></code></pre>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t<p>L√Ω do ch√∫ng ta c√≥ th·ªÉ d√πng class ƒë·ªÉ ƒë·ªãnh nghƒ©a th√†nh ph·∫ßn l√† ƒë·ªÉ theo d√µi <em>v√≤ng ƒë·ªùi</em> c·ªßa th√†nh ph·∫ßn. M·ªói l·∫ßn Preact g·∫∑p m·ªôt th√†nh ph·∫ßn khi render c√¢y Virtual DOM, n√≥ s·∫Ω t·∫°o m·ªôt instance m·ªõi c·ªßa class ƒë√≥ (<code>new MyButton()</code>).</p>\n<p>Tuy nhi√™n, n·∫øu b·∫°n c√≤n nh·ªõ t·ª´ ch∆∞∆°ng m·ªôt - Preact c√≥ th·ªÉ li√™n t·ª•c nh·∫≠n c√°c c√¢y Virtual DOM m·ªõi. M·ªói l·∫ßn ch√∫ng ta cung c·∫•p cho Preact m·ªôt c√¢y m·ªõi, n√≥ s·∫Ω so s√°nh v·ªõi c√¢y tr∆∞·ªõc ƒë·ªÉ x√°c ƒë·ªãnh nh·ªØng g√¨ ƒë√£ thay ƒë·ªïi, v√† √°p d·ª•ng c√°c thay ƒë·ªïi ƒë√≥ l√™n trang.</p>\n<p>Khi m·ªôt th√†nh ph·∫ßn ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a b·∫±ng class, m·ªçi <em>c·∫≠p nh·∫≠t</em> cho th√†nh ph·∫ßn ƒë√≥ trong c√¢y s·∫Ω t√°i s·ª≠ d·ª•ng c√πng m·ªôt instance class. ƒêi·ªÅu ƒë√≥ c√≥ nghƒ©a l√† b·∫°n c√≥ th·ªÉ l∆∞u tr·ªØ d·ªØ li·ªáu b√™n trong class component v√† d·ªØ li·ªáu ƒë√≥ s·∫Ω c√≥ s·∫µn cho l·∫ßn g·ªçi <code>render()</code> ti·∫øp theo.</p>\n<p>Class component c≈©ng c√≥ th·ªÉ tri·ªÉn khai m·ªôt s·ªë <a href=\"/guide/v10/components#lifecycle-methods\">ph∆∞∆°ng th·ª©c v√≤ng ƒë·ªùi</a> m√† Preact s·∫Ω g·ªçi khi c√≥ thay ƒë·ªïi trong c√¢y Virtual DOM:</p>\n\n\t\t\t\t<div class=\"highlight-container\">\n\t\t\t\t\t<pre class=\"highlight\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">MyButton</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">componentDidMount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Xin ch√†o t·ª´ m·ªôt component &lt;MyButton> m·ªõi!'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">componentDidUpdate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'M·ªôt component &lt;MyButton> ƒë√£ ƒë∆∞·ª£c c·∫≠p nh·∫≠t!'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>my-button<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>props<span class=\"token punctuation\">.</span>children<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MyButton</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Nh·∫•n t√¥i!</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">MyButton</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">,</span> document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// log: \"Xin ch√†o t·ª´ m·ªôt component &lt;MyButton> m·ªõi!\"</span>\n\n<span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MyButton</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Nh·∫•n t√¥i!</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">MyButton</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">,</span> document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// log: \"M·ªôt component &lt;MyButton> ƒë√£ ƒë∆∞·ª£c c·∫≠p nh·∫≠t!\"</span></code></pre>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t<p>V√≤ng ƒë·ªùi c·ªßa class component khi·∫øn ch√∫ng tr·ªü th√†nh c√¥ng c·ª• h·ªØu √≠ch ƒë·ªÉ x√¢y d·ª±ng c√°c ph·∫ßn c·ªßa ·ª©ng d·ª•ng ph·∫£n ·ª©ng v·ªõi thay ƒë·ªïi, thay v√¨ ch·ªâ √°nh x·∫° <code>props</code> sang c√¢y. Ch√∫ng c≈©ng cung c·∫•p c√°ch l∆∞u tr·ªØ th√¥ng tin ri√™ng bi·ªát t·∫°i m·ªói v·ªã tr√≠ ch√∫ng ƒë∆∞·ª£c ƒë·∫∑t trong c√¢y Virtual DOM. ·ªû ch∆∞∆°ng ti·∫øp theo, ch√∫ng ta s·∫Ω xem c√°ch c√°c th√†nh ph·∫ßn c√≥ th·ªÉ c·∫≠p nh·∫≠t ph·∫ßn c√¢y c·ªßa m√¨nh b·∫•t c·ª© khi n√†o mu·ªën thay ƒë·ªïi n√≥.</p>\n<hr>\n\n\t\t\t\t<h2 id=\"th·ª±c-h√†nh\">\n\t\t\t\t\t<a class=\"fragment-link\" href=\"#th·ª±c-h√†nh\">\n\t\t\t\t\t\t<svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" aria-label=\"Link to: Th·ª±c h√†nh! (#th·ª±c-h√†nh)\">\n\t\t\t\t\t\t\t<use href=\"/icons.svg#link\" ></use>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</a>\n\t\t\t\t\t<span>Th·ª±c h√†nh!</span>\n\t\t\t\t</h2><p>ƒê·ªÉ luy·ªán t·∫≠p, h√£y k·∫øt h·ª£p nh·ªØng g√¨ b·∫°n ƒë√£ h·ªçc v·ªÅ th√†nh ph·∫ßn v·ªõi k·ªπ nƒÉng s·ª± ki·ªán t·ª´ hai ch∆∞∆°ng tr∆∞·ªõc!</p>\n<p>T·∫°o m·ªôt th√†nh ph·∫ßn <code>MyButton</code> nh·∫≠n c√°c prop <code>style</code>, <code>children</code> v√† <code>onClick</code>, v√† tr·∫£ v·ªÅ m·ªôt ph·∫ßn t·ª≠ HTML <code>&lt;button&gt;</code> v·ªõi c√°c prop ƒë√≥ ƒë∆∞·ª£c √°p d·ª•ng.</p>\n<solution>\n  <h4>üéâ Ch√∫c m·ª´ng!</h4>\n  <p>B·∫°n ƒëang tr√™n con ƒë∆∞·ªùng tr·ªü th√†nh chuy√™n gia v·ªÅ th√†nh ph·∫ßn!</p>\n</solution>\n\n\n\n\n\n\n\n"}