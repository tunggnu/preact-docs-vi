{"meta":{"title":"Progressive Web Apps","toc":[{"text":"Progressive Web Apps","id":"progressive-web-apps","level":1},{"text":"This site is a PWA","id":"this-site-is-a-pwa","level":2},{"text":"Performance tips","id":"performance-tips","level":2},{"text":"Preact CLI","id":"preact-cli","level":2}]},"html":"<h1>Progressive Web Apps</h1><p>Preact is an excellent choice for <a href=\"https://web.dev/learn/pwa/\" target=\"_blank\" rel=\"noopener noreferrer\">Progressive Web Apps</a> that wish to load and become interactive quickly.  <a href=\"https://github.com/preactjs/preact-cli/\" target=\"_blank\" rel=\"noopener noreferrer\">Preact CLI</a> codifies this into an instant build tool that gives you a PWA with a 100 <a href=\"https://developers.google.com/web/tools/lighthouse/\" target=\"_blank\" rel=\"noopener noreferrer\">Lighthouse</a> score right out of the box.</p>\n<ol class=\"list-view\">\n    <li class=\"list-item\">\n        <div class=\"list-header\">\n          <div class=\"_bubble\" style=\"background-image: url(/pwa-guide/load-less-script.svg);\"></div>\n        </div>\n        <div class=\"list-detail\">\n          <div class=\"_title-block\">\n            <h3>Loads less script</h3>\n          </div>\n          <p class=\"_summary\">Preact's <a href=\"/about/project-goals\">small size</a> is valuable when you have a tight loading performance budget. On average mobile hardware, loading large bundles of JS leads to longer load, parse and eval times. This can leave users waiting a long time before they can interact with your app.  By trimming down the library code in your bundles, you load quicker by shipping less code to your users. </p>\n        </div>\n    </li>\n    <li class=\"list-item\">\n        <div class=\"list-header\">\n          <div class=\"_bubble\" style=\"background-image: url(/pwa-guide/faster-tti.svg);\"></div>\n        </div>\n        <div class=\"list-detail\">\n          <div class=\"_title-block\">\n            <h3>Faster time to interactivity</h3>\n          </div>\n          <p class=\"_summary\">If you're aiming to be <a href=\"https://infrequently.org/2016/09/what-exactly-makes-something-a-progressive-web-app/\">interactive in under 5s</a>, every KB matters. <a href=\"/guide/v8/switching-to-preact\">Switching React for Preact</a> in your projects can shave multiple KBs off and enable you to get interactive in one RTT. This makes it a great fit for Progressive Web Apps trying to trim down as much code as possible for each route.</p>\n        </div>\n    </li>\n    <li class=\"list-item\">\n        <div class=\"list-header\">\n          <div class=\"_bubble\" style=\"background-image: url(/pwa-guide/building-block.svg);\"></div>\n        </div>\n        <div class=\"list-detail\">\n          <div class=\"_title-block\">\n            <h3>A building block that works great with the React ecosystem</h3>\n          </div>\n          <p class=\"_summary\">Whether you need to use React's <a href=\"https://facebook.github.io/react/docs/react-dom-server.html\">server-side rendering</a> to get pixels on the screen quickly or use <a href=\"https://github.com/ReactTraining/react-router\">React Router</a> for navigation, Preact works well with many libraries in the ecosystem. </p>\n        </div>\n    </li>\n</ol>\n\n\n\t\t\t\t<h2 id=\"this-site-is-a-pwa\">\n\t\t\t\t\t<a class=\"fragment-link\" href=\"#this-site-is-a-pwa\">\n\t\t\t\t\t\t<svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" aria-label=\"Link to: This site is a PWA (#this-site-is-a-pwa)\">\n\t\t\t\t\t\t\t<use href=\"/icons.svg#link\" ></use>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</a>\n\t\t\t\t\t<span>This site is a PWA</span>\n\t\t\t\t</h2><p>In fact, the site you&#39;re on right now is a Progressive Web App!. Here it is getting interactive in under 5 seconds in a trace from a Nexus 5X over 3G:</p>\n<p><img decoding=\"async\" src=\"/pwa-guide/timeline.jpg\" alt=\"A DevTools Timeline trace of the preactjs.com site on a Nexus 5X\" ></p>\n<p>Static site content is stored in the (Service Worker) Cache Storage API enabling instant loading on repeat visits.</p>\n\n\t\t\t\t<h2 id=\"performance-tips\">\n\t\t\t\t\t<a class=\"fragment-link\" href=\"#performance-tips\">\n\t\t\t\t\t\t<svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" aria-label=\"Link to: Performance tips (#performance-tips)\">\n\t\t\t\t\t\t\t<use href=\"/icons.svg#link\" ></use>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</a>\n\t\t\t\t\t<span>Performance tips</span>\n\t\t\t\t</h2><p>While Preact is a drop-in that should work well for your PWA, it can also be used with a number of other tools and techniques. These include:</p>\n<ol class=\"list-view\">\n    <li class=\"list-item\">\n        <div class=\"list-header\">\n          <div class=\"_bubble\" style=\"background-image: url(/pwa-guide/code-splitting.svg);\"></div>\n        </div>\n        <div class=\"list-detail\">\n          <p class=\"_summary\"><strong><a href=\"https://webpack.js.org/guides/code-splitting/\">Code-splitting</a></strong> breaks up your code so you only ship what the user needs for a page. Lazy-loading the rest as needed improves page load times. Supported via Webpack.</p>\n        </div>\n    </li>\n    <li class=\"list-item\">\n        <div class=\"list-header\">\n          <div class=\"_bubble\" style=\"background-image: url(/pwa-guide/service-worker-caching.svg);\"></div>\n        </div>\n        <div class=\"list-detail\">\n          <p class=\"_summary\"><strong><a href=\"https://developers.google.com/web/fundamentals/getting-started/primers/service-workers\">Service Worker caching</a></strong> allows you to offline cache static and dynamic resources in your app, enabling instant loading and faster interactivity on repeat visits. Accomplish this with <a href=\"https://github.com/GoogleChrome/sw-precache#wrappers-and-starter-kits\">sw-precache</a> or <a href=\"https://github.com/NekR/offline-plugin\">offline-plugin</a>.</p>\n        </div>\n    </li>\n    <li class=\"list-item\">\n        <div class=\"list-header\">\n          <div class=\"_bubble\" style=\"background-image: url(/pwa-guide/prpl.svg);\"></div>\n        </div>\n        <div class=\"list-detail\">\n          <p class=\"_summary\"><strong><a href=\"https://developers.google.com/web/fundamentals/performance/prpl-pattern/\">PRPL</a></strong> encourages preemptively pushing or pre-loading assets to the browser, speeding up the load of subsequent pages. It builds on code-splitting and SW caching. </p>\n        </div>\n    </li>\n    <li class=\"list-item\">\n        <div class=\"list-header\">\n          <div class=\"_bubble\" style=\"background-image: url(/pwa-guide/lighthouse.svg);\"></div>\n        </div>\n        <div class=\"list-detail\">\n          <p class=\"_summary\"><strong><a href=\"https://github.com/GoogleChrome/lighthouse/\">Lighthouse</a></strong> allows you to audit the performance and best practices of your Progressive Web App so you know how well your app performs.</p>\n        </div>\n    </li>\n</ol>\n\n\n\t\t\t\t<h2 id=\"preact-cli\">\n\t\t\t\t\t<a class=\"fragment-link\" href=\"#preact-cli\">\n\t\t\t\t\t\t<svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" aria-label=\"Link to: Preact CLI (#preact-cli)\">\n\t\t\t\t\t\t\t<use href=\"/icons.svg#link\" ></use>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</a>\n\t\t\t\t\t<span>Preact CLI</span>\n\t\t\t\t</h2><p><a href=\"https://github.com/preactjs/preact-cli/\" target=\"_blank\" rel=\"noopener noreferrer\">Preact CLI</a> is the official build tool for Preact projects. It&#39;s a single dependency command line tool that bundles your Preact code into a highly optimized Progressive Web App.  It aims to make all of the above recommendations automatic, so you can focus on writing great Components.</p>\n<p>Here are a few things Preact CLI bakes in:</p>\n<ul>\n<li>Automatic, seamless code-splitting for your URL routes</li>\n<li>Automatically generates and installs a ServiceWorker</li>\n<li>Generates HTTP2/Push headers (or preload meta tags) based on the URL</li>\n<li>Pre-rendering for a fast Time To First Paint</li>\n<li>Conditionally loads polyfills if needed</li>\n</ul>\n<p>Since <a href=\"https://github.com/preactjs/preact-cli/\" target=\"_blank\" rel=\"noopener noreferrer\">Preact CLI</a> is internally powered by <a href=\"https://webpack.js.org\" target=\"_blank\" rel=\"noopener noreferrer\">Webpack</a>, you can define a <code>preact.config.js</code> and customize the build process to suit your needs.  Even if you customize things, you still get to take advantage of awesome defaults, and can update as new versions of <code>preact-cli</code> are released.</p>\n"}