{"meta":{"title":"No-Build Workflows","description":"Whilst build tools like Webpack, Rollup, and Vite are incredibly powerful and useful, Preact fully supports building applications without them.","toc":[{"text":"No-Build Workflows","id":"no-build-workflows","level":1},{"text":"Import Maps","id":"import-maps","level":2},{"text":"Basic Usage","id":"basic-usage","level":3},{"text":"Recipes and Common Patterns","id":"recipes-and-common-patterns","level":3},{"text":"Preact with Hooks, Signals, and HTM","id":"preact-with-hooks-signals-and-htm","level":4},{"text":"Aliasing React to Preact","id":"aliasing-react-to-preact","level":4},{"text":"HTM","id":"htm","level":2}]},"html":"<h1>No-Build Workflows</h1><p>Whilst build tools like Webpack, Rollup, and Vite are incredibly powerful and useful, Preact fully supports building\napplications without them.</p>\n<p>No-build workflows are a way to develop web applications while forgoing build tooling, instead relying on the browser\nto facilitate module loading and execution. This is a great way to get started with Preact and can continue to work\nvery well at all scales.</p>\n<hr>\n<toc></toc><hr>\n\n\t\t\t\t<h2 id=\"import-maps\">\n\t\t\t\t\t<a class=\"fragment-link\" href=\"#import-maps\">\n\t\t\t\t\t\t<svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" aria-label=\"Link to: Import Maps (#import-maps)\">\n\t\t\t\t\t\t\t<use href=\"/icons.svg#link\" ></use>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</a>\n\t\t\t\t\t<span>Import Maps</span>\n\t\t\t\t</h2><p>An <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script/type/importmap\" target=\"_blank\" rel=\"noopener noreferrer\">Import Map</a> is a newer browser feature\nthat allows you to control how browsers resolve module specifiers, often to convert bare specifiers such as <code>preact</code>\nto a CDN URL like <code>https://esm.sh/preact</code>. While many do prefer the aesthetics import maps can provide, there are also\nobjective advantages to the centralization of dependencies such as easier versioning, reduced/removed duplication, and\nbetter access to more powerful CDN features.</p>\n<p>We do generally recommend using import maps for those choosing to forgo build tooling as they work around some issues\nyou may encounter using bare CDN URLs in your import specifiers (more on that below).</p>\n\n\t\t\t\t<h3 id=\"basic-usage\">\n\t\t\t\t\t<a class=\"fragment-link\" href=\"#basic-usage\">\n\t\t\t\t\t\t<svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" aria-label=\"Link to: Basic Usage (#basic-usage)\">\n\t\t\t\t\t\t\t<use href=\"/icons.svg#link\" ></use>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</a>\n\t\t\t\t\t<span>Basic Usage</span>\n\t\t\t\t</h3><p><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script/type/importmap\" target=\"_blank\" rel=\"noopener noreferrer\">MDN</a> has a great deal of information on how to\nutilize import maps, but a basic example looks like the following:</p>\n\n\t\t\t\t<div class=\"highlight-container\">\n\t\t\t\t\t<pre class=\"highlight\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>importmap<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token string-property property\">\"imports\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token string-property property\">\"preact\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://esm.sh/preact@10.23.1\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string-property property\">\"htm/preact\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://esm.sh/htm@3.1.1/preact?external=preact\"</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>app<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>module<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n      <span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> render <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'preact'</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> html <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'htm/preact'</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> html<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">&lt;h1>Hello, World!&lt;/h1></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n\n      <span class=\"token function\">render</span><span class=\"token punctuation\">(</span>html<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">&lt;</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>App<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> /></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'app'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t<p>We create a <code>&lt;script&gt;</code> tag with a <code>type=&quot;importmap&quot;</code> attribute, and then define the modules we&#39;d like to use\ninside of it as JSON. Later, in a <code>&lt;script type=&quot;module&quot;&gt;</code> tag, we can import these modules using bare specifiers,\nsimilar to what you&#39;d see in Node.</p>\n<blockquote>\n<p><strong>Important:</strong> We use <code>?external=preact</code> in the example above as <a href=\"https://esm.sh\" target=\"_blank\" rel=\"noopener noreferrer\">https://esm.sh</a> will helpfully provide the\nmodule you&#39;re asking for as well as its dependencies -- for <code>htm/preact</code>, this means also providing a\ncopy of <code>preact</code>. However, Preact must be used only as a singleton with only a single copy included in your app.</p>\n<p>By using <code>?external=preact</code>, we tell <code>esm.sh</code> that it shouldn&#39;t provide a copy of <code>preact</code>, we can handle\nthat ourselves. Therefore, the browser will use our importmap to resolve <code>preact</code>, using the same Preact\ninstance as the rest of our code.</p>\n</blockquote>\n\n\t\t\t\t<h3 id=\"recipes-and-common-patterns\">\n\t\t\t\t\t<a class=\"fragment-link\" href=\"#recipes-and-common-patterns\">\n\t\t\t\t\t\t<svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" aria-label=\"Link to: Recipes and Common Patterns (#recipes-and-common-patterns)\">\n\t\t\t\t\t\t\t<use href=\"/icons.svg#link\" ></use>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</a>\n\t\t\t\t\t<span>Recipes and Common Patterns</span>\n\t\t\t\t</h3><p>While not an exhaustive list, here are some common patterns and recipes you may find useful when working with\nimport maps. If you have a pattern you&#39;d like to see, <a href=\"https://github.com/preactjs/preact-www/issues/new\" target=\"_blank\" rel=\"noopener noreferrer\">let us know</a>!</p>\n<p>For these examples we&#39;ll be using <a href=\"https://esm.sh\" target=\"_blank\" rel=\"noopener noreferrer\">https://esm.sh</a> as our CDN -- it&#39;s a brilliant, ESM-focused CDN that&#39;s a bit\nmore flexible and powerful than some others, but by no means are you limited to it. However you choose to serve\nyour modules, make sure you&#39;re familiar with the policy regarding dependencies: duplication of <code>preact</code> and some\nother libraries will cause (often subtle and unexpected) issues. For <code>esm.sh</code>, we address this with the <code>?external</code>\nquery parameter, but other CDNs may work differently.</p>\n\n\t\t\t\t<h4 id=\"preact-with-hooks-signals-and-htm\">\n\t\t\t\t\t<a class=\"fragment-link\" href=\"#preact-with-hooks-signals-and-htm\">\n\t\t\t\t\t\t<svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" aria-label=\"Link to: Preact with Hooks, Signals, and HTM (#preact-with-hooks-signals-and-htm)\">\n\t\t\t\t\t\t\t<use href=\"/icons.svg#link\" ></use>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</a>\n\t\t\t\t\t<span>Preact with Hooks, Signals, and HTM</span>\n\t\t\t\t</h4>\n\t\t\t\t<div class=\"highlight-container\">\n\t\t\t\t\t<pre class=\"highlight\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>importmap<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token string-property property\">\"imports\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token string-property property\">\"preact\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://esm.sh/preact@10.23.1\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string-property property\">\"preact/\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://esm.sh/preact@10.23.1/\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string-property property\">\"@preact/signals\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://esm.sh/@preact/signals@1.3.0?external=preact\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string-property property\">\"htm/preact\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://esm.sh/htm@3.1.1/preact?external=preact\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\n\t\t\t\t<h4 id=\"aliasing-react-to-preact\">\n\t\t\t\t\t<a class=\"fragment-link\" href=\"#aliasing-react-to-preact\">\n\t\t\t\t\t\t<svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" aria-label=\"Link to: Aliasing React to Preact (#aliasing-react-to-preact)\">\n\t\t\t\t\t\t\t<use href=\"/icons.svg#link\" ></use>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</a>\n\t\t\t\t\t<span>Aliasing React to Preact</span>\n\t\t\t\t</h4>\n\t\t\t\t<div class=\"highlight-container\">\n\t\t\t\t\t<pre class=\"highlight\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>importmap<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token string-property property\">\"imports\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token string-property property\">\"preact\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://esm.sh/preact@10.23.1\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string-property property\">\"preact/\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://esm.sh/preact@10.23.1/\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string-property property\">\"react\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://esm.sh/preact@10.23.1/compat\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string-property property\">\"react/\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://esm.sh/preact@10.23.1/compat/\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string-property property\">\"react-dom\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://esm.sh/preact@10.23.1/compat\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string-property property\">\"@mui/material\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://esm.sh/@mui/material@5.16.7?external=react,react-dom\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\n\t\t\t\t<h2 id=\"htm\">\n\t\t\t\t\t<a class=\"fragment-link\" href=\"#htm\">\n\t\t\t\t\t\t<svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" aria-label=\"Link to: HTM (#htm)\">\n\t\t\t\t\t\t\t<use href=\"/icons.svg#link\" ></use>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</a>\n\t\t\t\t\t<span>HTM</span>\n\t\t\t\t</h2><p>Whilst JSX is generally the most popular way to write Preact applications, it requires a build step to convert the non-standard syntax into something browsers and other runtimes can understand natively. Writing <code>h</code>/<code>createElement</code> calls by hand can be a bit tedious though with less than ideal ergonomics, so we instead recommend a JSX-like alternative called <a href=\"https://github.com/developit/htm\" target=\"_blank\" rel=\"noopener noreferrer\">HTM</a>.</p>\n<p>Instead of requiring a build step (though it can use one, see <a href=\"https://github.com/developit/htm/tree/master/packages/babel-plugin-htm\" target=\"_blank\" rel=\"noopener noreferrer\">`babel-plugin-htm`</a>), HTM uses <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#Tagged_templates\" target=\"_blank\" rel=\"noopener noreferrer\">Tagged Templates</a> syntax, a feature of JavaScript that&#39;s been around since 2015 and is supported in all modern browsers. This is an increasingly popular way to write Preact apps and is likely the most popular for those choosing to forgo a build step.</p>\n<p>HTM supports all standard Preact features, including Components, Hooks, Signals, etc., the only difference being the syntax used to write the &quot;JSX&quot; return value.</p>\n\n\t\t\t\t<div class=\"highlight-container\">\n\t\t\t\t\t<pre class=\"highlight\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'preact/hooks'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> html <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'htm/preact'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">Button</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> action<span class=\"token punctuation\">,</span> children <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">return</span> html<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">&lt;button onClick=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>action<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>children<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">&lt;/button></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">Counter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> setCount<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\t<span class=\"token keyword\">return</span> html<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n\t\t&lt;div class=\"counter-container\">\n\t\t\t&lt;</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>Button<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> action=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setCount</span><span class=\"token punctuation\">(</span>count <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">>Increment&lt;//>\n\t\t\t&lt;input readonly value=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>count<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> />\n\t\t\t&lt;</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>Button<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> action=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setCount</span><span class=\"token punctuation\">(</span>count <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">>Decrement&lt;//>\n\t\t&lt;/div>\n\t</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">render</span><span class=\"token punctuation\">(</span>html<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">&lt;</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>Counter<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> /></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'app'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n\t\t\t\t\t<a class=\"repl-link\" href=\"/repl?code=aW1wb3J0IHsgcmVuZGVyIH0gZnJvbSAncHJlYWN0JzsKCmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSAncHJlYWN0L2hvb2tzJzsKaW1wb3J0IHsgaHRtbCB9IGZyb20gJ2h0bS9wcmVhY3QnOwoKZnVuY3Rpb24gQnV0dG9uKHsgYWN0aW9uLCBjaGlsZHJlbiB9KSB7CglyZXR1cm4gaHRtbGA8YnV0dG9uIG9uQ2xpY2s9JHthY3Rpb259PiR7Y2hpbGRyZW59PC9idXR0b24%2BYDsKfQoKZnVuY3Rpb24gQ291bnRlcigpIHsKCWNvbnN0IFtjb3VudCwgc2V0Q291bnRdID0gdXNlU3RhdGUoMCk7CgoJcmV0dXJuIGh0bWxgCgkJPGRpdiBjbGFzcz0iY291bnRlci1jb250YWluZXIiPgoJCQk8JHtCdXR0b259IGFjdGlvbj0keygpID0%2BIHNldENvdW50KGNvdW50ICsgMSl9PkluY3JlbWVudDwvLz4KCQkJPGlucHV0IHJlYWRvbmx5IHZhbHVlPSR7Y291bnR9IC8%2BCgkJCTwke0J1dHRvbn0gYWN0aW9uPSR7KCkgPT4gc2V0Q291bnQoY291bnQgLSAxKX0%2BRGVjcmVtZW50PC8vPgoJCTwvZGl2PgoJYDsKfQoKcmVuZGVyKGh0bWxgPCR7Q291bnRlcn0gLz5gLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwJykpOw%3D%3D\">Run in REPL</a>\n\t\t\t\t</div>\n\t\t\t"}